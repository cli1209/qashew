<div>
    <!-- left hand side layout -->
    <div class="col-md-9 panel panel-default"> 
        <span id="notice"><%= notice %></span>

        <!-- search bar -->
        <br>
        <div class="row">
            <div class="col-md-8">
                <h4><b>Search questions</b></h4>
                <form class="form-inline">
                    <%= form_tag(questions_path, method: :get) do %>
                        <%= text_field_tag :term, params[:term], class:"form-control", placeholder: "Search by keyword, tag..." %>
                        <%= submit_tag 'Search', name: nil, class:"btn btn-default" %>
                    <% end %>
                </form>
            </div>
        </div>
        <!-- display questions -->
        <div class="row">
        	<div class="col-md-9">
                <h3><b>Questions</b></h3>
            </div>
            <br>
            <div class="btn-group dropdown">
                      <button class="btn btn-default" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Sort by
                        <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>
                        
                      </button>
                      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                        <li><%= link_to "Most Upvoted", :sort => "cached_weighted_score desc", class:"dropdown-item" %></li>
                        <li><%= link_to "Newest", :sort => "created_at desc", class:"dropdown-item" %></li>
                      </ul>
            </div>

            <div class="btn-group">
                  <%= link_to 'New Question', new_question_path, class: "btn btn-info"%>
            </div>
        </div>
                    <br>


    	<table class="table table-striped table-hover">
    	  <tbody>
    	    <% @questions.each do |question| %>
    	      <tr>
    	        <td id="question_<%= question.id %>" style="position:relative; padding:5px">
                    <%= render(partial: 'questions/question', locals: {question: question})%>
    			</td>
    	      </tr>
    	    <% end %>
    	  </tbody>
    	</table>
    	<br>
    </div>

    <!-- right hand side layout -->
    <div class="col-md-3"> 

        <!-- container for user info -->
        <div class="panel panel-default">
          <div class="panel-body">
            <h5><b>@<%= current_user.username %></b></h5>
          </div>
          <div class="panel-footer">
            Notifications <span class="badge badge-pill badge-danger">0</span>
          </div>
        </div>
        <div class="divider"></div>
        <!-- container for followed tags -->
        <div class="panel panel-default">
            <div class="panel-body">
                <p style="font-size: 16px;"><b>Followed tags</b></p>
                You're not following any tags yet. 
            </div>
        </div>
        <div class="divider"></div>
        <!-- container for trending tags -->
        <div class="panel panel-default">
            <div class="panel-body">
                <p style="font-size: 16px;"><b>Trending tags</b></p>
                <div id='tag_cloud'>
                  <% tag_cloud Question.tag_counts, %w{s m l} do |tag, css_class| %>
                      <%= link_to tag.name, tag_path(tag.name), class: css_class %>
                  <% end %>
                </div>       
            </div>
 </div>
        <div class="divider"></div>
	</div>
</div>